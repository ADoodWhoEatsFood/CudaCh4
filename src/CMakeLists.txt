SET(SRC_FILES main.cpp globalmem.cu sharedmem.cu)

CUDA_ADD_EXECUTABLE(cudach4 ${SRC_FILES})

# NVIDIA HATES US AND WON'T LET US USE MORE RECENT REVISIONS OF THE C++ STANDARD; REVERT TO 11:
#SET_PROPERTY(TARGET cudach4 PROPERTY CXX_STANDARD 17)
#SET_PROPERTY(TARGET cudach4 PROPERTY CXX_STANDARD_REQUIRED true)
TARGET_COMPILE_FEATURES(cudach4 PUBLIC cxx_std_11)
SET_PROPERTY(TARGET cudach4 PROPERTY CUDA_SEPERABLE_COMPILATION ON)
TARGET_INCLUDE_DIRECTORIES(cudach4 PUBLIC ${CUDA_INCLUDE_DIRS})

IF(APPLE)
  SET_PROPERTY(TARGET cudach4 PROPERTY BUILD_RPATH ${CMAKE_CUDA_IMPLICIT_LINK_DIRECTORIES})
ENDIF()
